
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hough Transform</title>
  </head>
  <body>
    <header>
      <h1>Hough Transform</h1>
    </header>
    <div>
      <form id="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
        <input type="file" name="image">
        <button id="upload-button">Upload</button>
      </form>
    </div>
    <div id="image-container"></div>
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous">
    </script>
    <script>
(function() {
  'use strict';

  let onSubmit = function(event) {
    event.preventDefault();
    var formData = new FormData($("#upload-form")[0]);
    $.ajax({
      url: "/upload",
      type: "post",
      data: formData,
      processData: false,
      contentType: false,
      timeout: 120
    }).done(function(response, status) {
      console.log(response);
      $("#image-container").html('<img src="' + response + '">');
    }).fail(function() {
      console.error("error!");
    });
  };

  $("#upload-form").on("submit", onSubmit);
})();
    </script>
  </body>
</html>
